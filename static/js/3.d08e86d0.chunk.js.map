{"version":3,"sources":["components/content/messages/contacts/contacts.module.css","components/content/messages/message/message.module.css","components/content/messages/messages/messages.module.css","components/content/messages/contacts/Contacts.js","components/content/messages/message/Message.js","components/content/messages/SendMessageForm/sendMessageForm.jsx","components/content/messages/messagesContainer.js","components/content/messages/messages/Messages.js"],"names":["module","exports","Collocutor","props","path","userID","className","styles","collocutor","activeCollocutor","exact","to","userpic","src","userPic","alt","userName","Contacts","i","collocutors","users","map","user","key","contacts","Message","message","messageText","onClick","deletePost","id","SendMessageForm","onSubmit","s","form","console","log","addPost","textMessage","restart","validate","render","handleSubmit","name","component","TextArea","composeValidator","requiredField","maxLength","placeholder","type","Messagescontainer","compose","connect","state","dialogs","dialogData","dispatch","text","addPostActionCreator","withAuthRedirect","messages","container","wrapper","inner"],"mappings":"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","file":"static/js/3.d08e86d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"contacts_container__3zqwn\",\"wrapper\":\"contacts_wrapper__29KFz\",\"inner\":\"contacts_inner__KSqlk\",\"contacts\":\"contacts_contacts__1Jct2\",\"collocutor\":\"contacts_collocutor__2bTom\",\"activeCollocutor\":\"contacts_activeCollocutor__2gxJl\",\"message\":\"contacts_message__13T5V\",\"userpic\":\"contacts_userpic__EUv-g\",\"messageText\":\"contacts_messageText__2g2JK\",\"form\":\"contacts_form__jT0rL\",\"textBox\":\"contacts_textBox__28uGS\",\"submit\":\"contacts_submit__1lYUJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"message_container__1lnlj\",\"wrapper\":\"message_wrapper__3CSmb\",\"inner\":\"message_inner__Gs3FD\",\"contacts\":\"message_contacts__2mR7h\",\"collocutor\":\"message_collocutor__142TV\",\"activeCollocutor\":\"message_activeCollocutor__3XAwQ\",\"message\":\"message_message__1FCJs\",\"userpic\":\"message_userpic__BP1qI\",\"messageText\":\"message_messageText__EjQ9U\",\"form\":\"message_form__3zERj\",\"textBox\":\"message_textBox__26Mzw\",\"submit\":\"message_submit__2rlL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"messages_container__3BKXi\",\"wrapper\":\"messages_wrapper__xmGpT\",\"inner\":\"messages_inner__2D5P0\",\"contacts\":\"messages_contacts__2ETn8\",\"collocutor\":\"messages_collocutor__1oIAH\",\"activeCollocutor\":\"messages_activeCollocutor__1COKp\",\"message\":\"messages_message__1KQkg\",\"myMessage\":\"messages_myMessage__5bzPg\",\"userpic\":\"messages_userpic__1Kk5_\",\"messageText\":\"messages_messageText__Djlyn\",\"form\":\"messages_form__3cKZp\",\"textBox\":\"messages_textBox__1hDD_\",\"submit\":\"messages_submit__iUg0-\"};","import React      from 'react';\r\nimport {NavLink}  from 'react-router-dom';\r\nimport styles     from './contacts.module.css';\r\n\r\nconst Collocutor = (props) => {\r\n\tlet path = \"/messages/\"+props.userID;\r\n\r\n\treturn(\r\n\t\t<article className={`${styles.collocutor} ${styles.activeCollocutor}`}>\r\n\t\t\t<NavLink exact to={path}>\r\n\t\t\t\t<img className={styles.userpic} src={props.userPic} alt={props.userName} />\r\n\t\t\t\t<p>{props.userName}</p>\r\n\t\t\t</NavLink>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nconst Contacts = (props) => {\r\n\tlet i = 0;\r\n\t\r\n\tlet collocutors = props.users.map(user => <Collocutor userPic={user.userPic} userName={user.userName} userID={user.userID} key={i++}/>);\r\n\t\r\n\treturn(\r\n\t\t<div className={styles.contacts}>\r\n\t\t\t{collocutors}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport {Contacts};","import React      from 'react';\r\nimport styles     from './message.module.css';\r\n\r\nconst Message = (props) => {\r\n\r\n\treturn(\r\n\t\t<div className={`${styles.message}`} >\r\n\t\t\t<img className={styles.userpic} src={props.userPic} alt={props.userName} />\r\n\t\t\t<p className={styles.messageText}>{props.messageText}</p>\r\n\t\t\t<button onClick={() => props.deletePost(props.id)}>Удалить</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport {Message};","import React from \"react\";\r\nimport { Form, Field } from 'react-final-form';\r\nimport {composeValidator, maxLength, requiredField} from \"../../../../utilities/validators/validators\";\r\nimport {TextArea} from \"../../../common/formControls/formControls\";\r\n\r\n//this is dumb presentation component\r\n\r\n/*let SendMessageForm = (props) => {\r\n\r\n    let messageText = React.createRef();\r\n\r\n    let changeValue = () => {\r\n        let text = messageText.current.value;\r\n\r\n        props.changeValue(text);\r\n    };\r\n\r\n    let addPost = (e) => {\r\n        e.preventDefault();\r\n        props.addPost();\r\n    };\r\n\r\n    return (\r\n        <form className={styles.form} method=\"post\" action=\"#\" onSubmit={addPost}>\r\n\t\t\t\t\t<textarea className={styles.textBox}\r\n                              ref={messageText}\r\n                              value={props.currentInput}\r\n                              onChange={changeValue}\r\n                    />\r\n            <button className={styles.submit} type=\"submit\" onSubmit={addPost}>Отправить</button>\r\n        </form>\r\n    );\r\n};*/\r\nlet requiredMessage = \"Это поле обязательно.\";\r\nlet maxLengthMessage = \"Не больше 10ти символов.\";\r\n\r\n\r\nlet SendMessageForm = (props) => (<Form\r\n    onSubmit={(s, form) => { //три аргумента, для доступа к api формы нужен второй\r\n        console.log(props);\r\n        props.addPost(s.textMessage);\r\n        form.restart(); //зачищаем форму и все её состояния\r\n    }}\r\n    validate={() => {}} //Если нет валидации, должна быть путая функция, иначе onSubmit просто не сработает\r\n    render={ ({handleSubmit}) => <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <Field name=\"textMessage\" component={TextArea}\r\n                                      validate={composeValidator(requiredField(requiredMessage), maxLength(10, maxLengthMessage))}\r\n                                      placeholder=\"Ваше сообщение\"\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <button type=\"submit\" >Отправить</button>\r\n        </div>\r\n\r\n    </form>\r\n    }\r\n/>)\r\n\r\nexport default SendMessageForm;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Messages} from \"./messages/Messages\";\r\nimport {addPostActionCreator, deletePost} from \"../../../redux/dialogReducer\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    users        : state.dialogs.collocutors,\r\n    dialogData   : state.dialogs.dialogData,\r\n});\r\n\r\nlet mapDispatchToProps = (dispatch) => ({\r\n    addPost     : (text) => {\r\n        dispatch(addPostActionCreator(text));\r\n    },\r\n    deletePost  : id     => {\r\n        dispatch(deletePost(id));\r\n    }\r\n});\r\n\r\nlet Messagescontainer = compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages);\r\n\r\nexport default Messagescontainer;","import React from 'react';\r\nimport {Contacts} from '../contacts/Contacts.js';\r\nimport {Message} from '../message/Message.js'\r\nimport styles from './messages.module.css';\r\nimport SendMessageForm from \"../SendMessageForm/sendMessageForm\";\r\n\r\nlet Messages = (props) => {\r\n\r\n    let messages = props.dialogData.map(message => <Message\r\n        userPic={message.userPic}\r\n        userName={message.userName}\r\n        messageText={message.messageText}\r\n        key={message.id}\r\n        id={message.id}\r\n        deletePost={props.deletePost}/>\r\n    );\r\n\r\n    /*let changeValue = (text) => {\r\n        props.dispatch(changeValueActionCreator(text));\r\n    };\r\n\r\n    let addPost = () => {\r\n        props.dispatch(addPostActionCreator());\r\n    };*/\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Contacts users={props.users}/>\r\n            <div className={styles.wrapper}>\r\n                <div className={styles.inner}>\r\n                    {messages}\r\n                </div>\r\n                <SendMessageForm\r\n                    addPost      = {props.addPost}\r\n                />\r\n                {/*<form className={styles.form} method=\"post\" action=\"#\" onSubmit={addPost}>\r\n\t\t\t\t\t<textarea className={styles.textBox}\r\n                              ref={messageText}\r\n                              value={props.getState().dialogs.currentInput}\r\n                              onChange={changeValue}\r\n                    />\r\n                    <button className={styles.submit} type=\"submit\" onClick={addPost}>Отправить</button>\r\n                </form>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport {Messages};"],"sourceRoot":""}